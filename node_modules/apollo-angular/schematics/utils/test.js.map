{"version":3,"file":"test.js","sourceRoot":"","sources":["../../../schematics/utils/test.ts"],"names":[],"mappings":";;;AAAA,+BAA4B;AAC5B,gEAAuF;AAEvF,MAAM,cAAc,GAAG,IAAA,WAAI,EAAC,SAAS,EAAE,oBAAoB,CAAC,CAAC;AAEtD,KAAK,UAAU,aAAa,CAAC,UAAU,GAAG,EAAE;IACjD,MAAM,MAAM,GAAG,IAAI,6BAAmB,CAAC,gBAAgB,EAAE,cAAc,CAAC,CAAC;IAEzE,MAAM,aAAa,GAAG,MAAM,MAAM;SAC/B,yBAAyB,CAAC,qBAAqB,EAAE,WAAW,EAAE;QAC7D,IAAI,EAAE,WAAW;QACjB,OAAO,EAAE,QAAQ;QACjB,cAAc,EAAE,UAAU;KAC3B,CAAC;SACD,SAAS,EAAE,CAAC;IAEf,OAAO,MAAM;SACV,yBAAyB,CACxB,qBAAqB,EACrB,aAAa,EACb;QACE,GAAG,UAAU;QACb,IAAI,EAAE,QAAQ;KACf,EACD,aAAa,CACd;SACA,SAAS,EAAE,CAAC;AACjB,CAAC;AAtBD,sCAsBC","sourcesContent":["import { join } from 'path';\nimport { SchematicTestRunner, UnitTestTree } from '@angular-devkit/schematics/testing';\n\nconst collectionPath = join(__dirname, '../collection.json');\n\nexport async function createTestApp(appOptions = {}): Promise<UnitTestTree> {\n  const runner = new SchematicTestRunner('apollo-angular', collectionPath);\n\n  const workspaceTree = await runner\n    .runExternalSchematicAsync('@schematics/angular', 'workspace', {\n      name: 'workspace',\n      version: '11.0.0',\n      newProjectRoot: 'projects',\n    })\n    .toPromise();\n\n  return runner\n    .runExternalSchematicAsync(\n      '@schematics/angular',\n      'application',\n      {\n        ...appOptions,\n        name: 'apollo',\n      },\n      workspaceTree,\n    )\n    .toPromise();\n}\n"]}